import{C}from"./cropperjs-BlnFt_v-.js";import{d,_ as I,ah as l,o as x,c as S,V as a,P as t,a as e,T as n,n as b,bm as D,bk as k}from"./@vue-CRXw13tJ.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const p=s=>(D("data-v-97a2416a"),s=s(),k(),s),V={class:"cropper-warp"},z={class:"cropper-warp-left"},y=["src"],N={class:"cropper-warp-right"},R=p(()=>e("div",{class:"cropper-warp-right-title"},"预览",-1)),T={class:"cropper-warp-right-item"},A={class:"cropper-warp-right-value"},M=["src"],U=p(()=>e("div",{class:"cropper-warp-right-label"},"100 x 100",-1)),j={class:"cropper-warp-right-item"},q={class:"cropper-warp-right-value"},E=["src"],L=p(()=>e("div",{class:"cropper-warp-right-label"},"50 x 50",-1)),O={class:"dialog-footer"},P=d({name:"cropper"}),W=d({...P,setup(s,{expose:_}){const o=I({isShowDialog:!1,cropperImg:"",cropperImgBase64:"",cropper:""}),g=r=>{o.cropperImg=r,o.isShowDialog=!0,b(()=>{w()})},m=()=>{o.isShowDialog=!1},h=()=>{m()},u=()=>{},w=()=>{const r=document.querySelector(".cropper-warp-left-img");o.cropper=new C(r,{viewMode:1,dragMode:"none",initialAspectRatio:1,aspectRatio:1,preview:".before",background:!1,autoCropArea:.6,zoomOnWheel:!1,crop:()=>{o.cropperImgBase64=o.cropper.getCroppedCanvas().toDataURL("image/jpeg")}})};return _({openDialog:g}),(r,c)=>{const i=l("el-button"),f=l("el-dialog");return x(),S("div",null,[a(f,{title:"更换头像",modelValue:o.isShowDialog,"onUpdate:modelValue":c[0]||(c[0]=v=>o.isShowDialog=v),width:"769px"},{footer:t(()=>[e("span",O,[a(i,{onClick:h,size:"default"},{default:t(()=>[n("取 消")]),_:1}),a(i,{type:"primary",onClick:u,size:"default"},{default:t(()=>[n("更 换")]),_:1})])]),default:t(()=>[e("div",V,[e("div",z,[e("img",{src:o.cropperImg,class:"cropper-warp-left-img"},null,8,y)]),e("div",N,[R,e("div",T,[e("div",A,[e("img",{src:o.cropperImgBase64,class:"cropper-warp-right-value-img"},null,8,M)]),U]),e("div",j,[e("div",q,[e("img",{src:o.cropperImgBase64,class:"cropper-warp-right-value-img cropper-size"},null,8,E)]),L])])])]),_:1},8,["modelValue"])])}}}),J=B(W,[["__scopeId","data-v-97a2416a"]]);export{J as default};
