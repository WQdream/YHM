import{d as I,x as b,u as R,s as U,M as q,N as B,a as D,y as E,c as a,$ as j,e as _,H as f,k as e,j as o,g as y,n as z,w as v,i as M,t as A,S as N,a3 as O,aB as H,aC as J,E as C,az as L}from"./index-DFEDjKuf.js";import{a as G}from"./formatTime-in1fXasu.js";import{_ as K}from"./plugin-vueexport-helper-DlAUqK2U.js";const Q=I({name:"loginAccount"}),W=I({...Q,setup(X){const{t:P}=b.useI18n(),S=R(),{themeConfig:V}=U(S),u=q(),g=B(),s=D({isShowPassword:!1,ruleForm:{userName:"admin",password:"123456",code:"1234"},loading:{signIn:!1}}),k=E(()=>G(new Date)),F=async()=>{if(s.loading.signIn=!0,N.set("token",Math.random().toString(36).substr(0)),O.set("userName",s.ruleForm.userName),V.value.isRequestRoutes){const t=await J();w(t)}else{const t=await H();w(t)}},w=t=>{var n,m,l,r;if(t)C.warning("抱歉，您没有登录权限"),N.clear();else{let c=k.value;(n=u.query)!=null&&n.redirect?g.push({path:(m=u.query)==null?void 0:m.redirect,query:Object.keys((l=u.query)==null?void 0:l.params).length>0?JSON.parse((r=u.query)==null?void 0:r.params):""}):g.push("/");const d=P("message.signInText");C.success(`${c}，${d}`),L.start()}s.loading.signIn=!1};return(t,n)=>{const m=a("ele-User"),l=a("el-icon"),r=a("el-input"),c=a("el-form-item"),d=a("ele-Unlock"),T=a("ele-Position"),p=a("el-col"),h=a("el-button"),$=a("el-form"),x=j("waves");return _(),f($,{size:"large",class:"login-content-form"},{default:e(()=>[o(c,{class:"login-animation1"},{default:e(()=>[o(r,{text:"",placeholder:t.$t("message.account.accountPlaceholder1"),modelValue:s.ruleForm.userName,"onUpdate:modelValue":n[0]||(n[0]=i=>s.ruleForm.userName=i),clearable:"",autocomplete:"off"},{prefix:e(()=>[o(l,{class:"el-input__icon"},{default:e(()=>[o(m)]),_:1})]),_:1},8,["placeholder","modelValue"])]),_:1}),o(c,{class:"login-animation2"},{default:e(()=>[o(r,{type:s.isShowPassword?"text":"password",placeholder:t.$t("message.account.accountPlaceholder2"),modelValue:s.ruleForm.password,"onUpdate:modelValue":n[2]||(n[2]=i=>s.ruleForm.password=i),autocomplete:"off"},{prefix:e(()=>[o(l,{class:"el-input__icon"},{default:e(()=>[o(d)]),_:1})]),suffix:e(()=>[y("i",{class:z(["iconfont el-input__icon login-content-password",s.isShowPassword?"icon-yincangmima":"icon-xianshimima"]),onClick:n[1]||(n[1]=i=>s.isShowPassword=!s.isShowPassword)},null,2)]),_:1},8,["type","placeholder","modelValue"])]),_:1}),o(c,{class:"login-animation3"},{default:e(()=>[o(p,{span:15},{default:e(()=>[o(r,{text:"",maxlength:"4",placeholder:t.$t("message.account.accountPlaceholder3"),modelValue:s.ruleForm.code,"onUpdate:modelValue":n[3]||(n[3]=i=>s.ruleForm.code=i),clearable:"",autocomplete:"off"},{prefix:e(()=>[o(l,{class:"el-input__icon"},{default:e(()=>[o(T)]),_:1})]),_:1},8,["placeholder","modelValue"])]),_:1}),o(p,{span:1}),o(p,{span:8},{default:e(()=>[v((_(),f(h,{class:"login-content-code"},{default:e(()=>[M("1234")]),_:1})),[[x]])]),_:1})]),_:1}),o(c,{class:"login-animation4"},{default:e(()=>[v((_(),f(h,{type:"primary",class:"login-content-submit",round:"",onClick:F,loading:s.loading.signIn},{default:e(()=>[y("span",null,A(t.$t("message.account.accountBtnText")),1)]),_:1},8,["loading"])),[[x]])]),_:1})]),_:1})}}}),oe=K(W,[["__scopeId","data-v-d26cc5e8"]]);export{oe as default};
