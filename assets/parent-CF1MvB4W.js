function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/iframes-BBB_aFak.js","assets/index-DFEDjKuf.js","assets/index-DWzy0YyM.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{d as K,M as C,N as I,O as P,u as x,s as p,a as B,y as m,J as E,z as h,m as _,o as D,S as M,b as O,P as S,c as U,e as l,f as b,j as o,k as f,T as d,H as w,w as R,v as y,I as j,Q as z,F,K as H,_ as J}from"./index-DFEDjKuf.js";const Q={class:"layout-parent"},q=K({name:"layoutParentView"}),X=K({...q,setup(G){const V=H(()=>J(()=>import("./iframes-BBB_aFak.js"),__vite__mapDeps([0,1,2]))),t=C(),g=I(),A=P(),T=x(),{keepAliveNames:r,cachedViews:c}=p(A),{themeConfig:n}=p(T),e=B({refreshRouterViewKey:"",iframeRefreshKey:"",keepAliveNameList:[],iframeList:[]}),u=m(()=>n.value.animation),k=m(()=>n.value.isTagsview?c.value:e.keepAliveNameList),v=m(()=>t.meta.isIframe),L=async()=>{g.getRoutes().forEach(s=>{s.meta.isIframe&&(s.meta.isIframeOpen=!1,s.meta.loading=!0,e.iframeList.push({...s}))})};return E(()=>{e.keepAliveNameList=r.value,h.on("onTagsViewRefreshRouterView",s=>{e.keepAliveNameList=r.value.filter(a=>t.name!==a),e.refreshRouterViewKey="",e.iframeRefreshKey="",_(()=>{e.refreshRouterViewKey=s,e.iframeRefreshKey=s,e.keepAliveNameList=r.value})})}),D(()=>{L(),_(()=>{setTimeout(()=>{if(n.value.isCacheTagsView){let s=M.get("tagsViewList")||[];c.value=s.filter(a=>{var i;return(i=a.meta)==null?void 0:i.isKeepAlive}).map(a=>a.name)}},0)})}),O(()=>{h.off("onTagsViewRefreshRouterView",()=>{})}),S(()=>t.fullPath,()=>{e.refreshRouterViewKey=decodeURI(t.fullPath)},{immediate:!0}),(s,a)=>{const i=U("router-view");return l(),b("div",Q,[o(i,null,{default:f(({Component:N})=>[o(d,{name:u.value,mode:"out-in"},{default:f(()=>[(l(),w(z,{include:k.value},[R((l(),w(j(N),{key:e.refreshRouterViewKey,class:"w100"})),[[y,!v.value]])],1032,["include"]))]),_:2},1032,["name"])]),_:1}),o(d,{name:u.value,mode:"out-in"},{default:f(()=>[R(o(F(V),{class:"w100",refreshKey:e.iframeRefreshKey,name:u.value,list:e.iframeList},null,8,["refreshKey","name","list"]),[[y,v.value]])]),_:1},8,["name"])])}}});export{X as default};
